<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LottoSphere Ultimate + SportsSphere</title>
<style>
/* --- GENERAL STYLING --- */
body {
  margin:0; padding:0; font-family:'Segoe UI',sans-serif;
  background:#0a0f1a; color:#e0e0e0;
}
h1,h2,h3 {text-align:center; color:#00bfff; margin:0.5em 0;}
.container {width:95%; max-width:1400px; margin:auto; padding:1em;}
.section {background:rgba(10,15,26,0.85); margin:1em 0; padding:1em; border-radius:15px; box-shadow:0 0 20px rgba(0,191,255,0.3);}
table {width:100%; border-collapse:collapse; margin-top:1em;}
th, td {border:1px solid #00bfff; padding:0.5em; text-align:center;}
button {padding:0.5em 1em; margin:0.5em; background:#001f3f; color:#00bfff; border:none; border-radius:8px; cursor:pointer; transition:0.3s; font-weight:bold;}
button:hover {background:#005f9e; color:#fff;}
canvas {display:block; margin:auto;}
input {padding:0.5em; margin:0.3em; border-radius:5px; border:none; background:#001f3f; color:#00bfff;}
#channel-buttons button {background:#001f3f; color:#00bfff; margin:0.3em;}
#login-section {display:flex; flex-direction:column; align-items:center;}
</style>
</head>
<body>
<div class="container">

<h1>LottoSphere Ultimate + SportsSphere</h1>

<!-- MEMBERSHIP -->
<div class="section" id="login-section">
<h2>Membership System</h2>
<div id="auth-area">
<input type="text" id="username" placeholder="Username">
<input type="password" id="password" placeholder="Password">
<button onclick="signup()">Sign Up</button>
<button onclick="signin()">Sign In</button>
</div>
<div id="welcome-area" style="display:none;">
<h3>Welcome, <span id="user-name"></span>! Points: <span id="user-points">0</span></h3>
<button onclick="logout()">Log Out</button>
</div>
</div>

<!-- LOTTERY -->
<div class="section" id="lottery-section">
<h2>Lottery Analyzer</h2>
<label for="lottery-select">Select Lottery:</label>
<select id="lottery-select">
<option value="powerball">Powerball</option>
<option value="megamilions">Mega Millions</option>
<option value="cash4life">Cash4Life</option>
<option value="euromillions">EuroMillions</option>
<option value="uklotto">UK Lotto</option>
<option value="lotto649">Lotto 6/49</option>
</select>
<button onclick="generateNumbers()">Generate Smart Pick</button>
<h3>Historical Draws</h3>
<table id="lottery-table"><thead><tr><th>Date</th><th>Numbers</th></tr></thead><tbody></tbody></table>
<h3>Hot / Cold Numbers</h3>
<canvas id="lottery-chart" width="600" height="300"></canvas>
</div>

<!-- SPORTS -->
<div class="section" id="sports-section">
<h2>Sports Dashboard</h2>
<label for="league-select">Select League:</label>
<select id="league-select">
<option value="nba">NBA</option>
<option value="nfl">NFL</option>
<option value="epl">EPL</option>
<option value="laliga">La Liga</option>
<option value="mlb">MLB</option>
</select>
<button onclick="loadSports()">Load Latest Scores</button>
<h3>Predictions</h3>
<table id="sports-table"><thead><tr><th>Date</th><th>Match</th><th>Score</th><th>Win Prob.</th></tr></thead><tbody></tbody></table>
</div>

<!-- CHANNELS -->
<div class="section" id="channels-section">
<h2>Available Channels</h2>
<div id="channel-buttons">
<button onclick="adminChannelLogin('Apple TV')">Apple TV</button>
<button onclick="adminChannelLogin('Hulu')">Hulu</button>
<button onclick="adminChannelLogin('YouTube TV')">YouTube TV</button>
<button onclick="adminChannelLogin('Netflix')">Netflix</button>
<button onclick="adminChannelLogin('Disney+')">Disney+</button>
</div>
</div>

</div>

<script>
// MEMBERSHIP
function signup(){
  const u=document.getElementById('username').value.trim();
  const p=document.getElementById('password').value.trim();
  if(!u||!p){alert('Enter username & password'); return;}
  if(localStorage.getItem('user_'+u)){alert('Username exists'); return;}
  localStorage.setItem('user_'+u, JSON.stringify({password:p, points:0}));
  localStorage.setItem('currentUser',u);
  showWelcome(u);
}
function signin(){
  const u=document.getElementById('username').value.trim();
  const p=document.getElementById('password').value.trim();
  const data=JSON.parse(localStorage.getItem('user_'+u));
  if(data && data.password===p){localStorage.setItem('currentUser',u); showWelcome(u);}
  else{alert('Invalid username/password');}
}
function logout(){
  localStorage.removeItem('currentUser');
  document.getElementById('auth-area').style.display='flex';
  document.getElementById('welcome-area').style.display='none';
}
function showWelcome(u){
  const data=JSON.parse(localStorage.getItem('user_'+u));
  document.getElementById('user-name').innerText=u;
  document.getElementById('user-points').innerText=data.points;
  document.getElementById('auth-area').style.display='none';
  document.getElementById('welcome-area').style.display='block';
}

// LOTTERY DATA
const lotteryData={
powerball:[{date:'2025-09-24',numbers:'5,12,22,32,48 Powerball:9'},{date:'2025-09-21',numbers:'2,14,29,40,55 Powerball:11'},{date:'2025-09-17',numbers:'6,18,28,44,53 Powerball:2'}],
megamilions:[{date:'2025-09-24',numbers:'3,15,22,34,48 Mega:7'},{date:'2025-09-21',numbers:'1,14,19,33,50 Mega:10'},{date:'2025-09-17',numbers:'5,17,28,41,54 Mega:5'}],
cash4life:[{date:'2025-09-24',numbers:'3,12,17,22,37 Cash4Life:5'},{date:'2025-09-23',numbers:'7,11,18,23,42 Cash4Life:2'},{date:'2025-09-22',numbers:'2,8,15,27,33 Cash4Life:4'}],
euromillions:[{date:'2025-09-24',numbers:'5,12,23,34,42 Stars:3,7'},{date:'2025-09-21',numbers:'2,15,19,37,44 Stars:2,9'}],
uklotto:[{date:'2025-09-24',numbers:'3,11,19,24,36,42'},{date:'2025-09-21',numbers:'5,10,18,27,33,44'}],
lotto649:[{date:'2025-09-24',numbers:'1,9,17,28,33,41'},{date:'2025-09-21',numbers:'2,11,19,24,35,43'}]
};

function renderLotteryTable(lottery){
  const tbody=document.querySelector('#lottery-table tbody'); tbody.innerHTML='';
  lotteryData[lottery].forEach(draw=>{
    const tr=document.createElement('tr'); tr.innerHTML=`<td>${draw.date}</td><td>${draw.numbers}</td>`;
    tbody.appendChild(tr);
  });
  renderLotteryChart(lottery);
}

function renderLotteryChart(lottery){
  const canvas=document.getElementById('lottery-chart'); const ctx=canvas.getContext('2d'); ctx.clearRect(0,0,canvas.width,canvas.height);
  const numbers={}; lotteryData[lottery].forEach(draw=>{draw.numbers.split(/,|Powerball:|Mega:|Cash4Life:|Stars:/).forEach(n=>{const num=n.trim();if(num){numbers[num]=(numbers[num]||0)+1;}});});
  const keys=Object.keys(numbers); const values=keys.map(k=>numbers[k]); const maxVal=Math.max(...values);
  keys.forEach((k,i)=>{const height=(values[i]/maxVal)*200;ctx.fillStyle='#00bfff';ctx.fillRect(50+i*30,250-height,20,height);ctx.fillStyle='#e0e0e0';ctx.fillText(k,50+i*30,270);});
}

function generateNumbers(){
  const lottery=document.getElementById('lottery-select').value;
  const nums=lotteryData[lottery][Math.floor(Math.random()*lotteryData[lottery].length)].numbers;
  const u=localStorage.getItem('currentUser');
  if(u){const data=JSON.parse(localStorage.getItem('user_'+u));data.points+=10;localStorage.setItem('user_'+u,JSON.stringify(data));document.getElementById('user-points').innerText=data.points;}
  alert(`Your smart pick for ${lottery.toUpperCase()}: ${nums}`);
}
document.getElementById('lottery-select').addEventListener('change',e=>{renderLotteryTable(e.target.value);});
renderLotteryTable('powerball');

// SPORTS API PLACEHOLDER
const SPORTSDB_API_KEY='123'; // free key

async function fetchLiveScores(league){
  const tbody=document.querySelector('#sports-table tbody'); tbody.innerHTML='<tr><td colspan="4">Loading live scores...</td></tr>';
  try{
    let leagueId;
    switch(league){case 'nba':leagueId=4387;break;case 'nfl':leagueId=4391;break;case 'epl':leagueId=4328;break;case 'laliga':leagueId=4335;break;case 'mlb':leagueId=4424;break;default:leagueId=4387;}
    const res=await fetch(`https://www.thesportsdb.com/api/v1/json/${SPORTSDB_API_KEY}/eventspastleague.php?id=${leagueId}`);
    const data=await res.json(); const events=data.events.slice(0,10);
    tbody.innerHTML='';
    events.forEach(event=>{
      const home=event.strHomeTeam; const away=event.strAwayTeam; const score=`${event.intHomeScore||'-'}-${event.intAwayScore||'-'}`;
      let homeProb=Math.floor(Math.random()*50+25); let awayProb=100-homeProb;
      const tr=document.createElement('tr'); tr.innerHTML=`<td>${event.dateEvent}</td><td>${home} vs ${away}</td><td>${score}</td><td>${homeProb}% - ${awayProb}%</td>`;
      tbody.appendChild(tr);
    });
  }catch(err){tbody.innerHTML='<tr><td colspan="4">Error fetching live data.</td></tr>';console.error(err);}
}
document.getElementById('league-select').addEventListener('change',e=>{fetchLiveScores(e.target.value);});
fetchLiveScores('nba');

// CHANNELS ADMIN LOGIN
function adminChannelLogin(channel){
  const u=prompt(`Admin login for ${channel}. Enter username:`,'');
  const p=prompt('Enter password:','');
  const data=JSON.parse(localStorage.getItem('user_'+u));
  if(data && data.password===p){alert(`Access granted to ${channel}`);}
  else{alert('Access denied');}
}
</script>
</body>
</html>
